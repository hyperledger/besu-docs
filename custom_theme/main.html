{% extends "base.html" %}

{% block libs %}
  <script>const latestWarningTrigger = "{{config.extra.latest_version_warning.url_contains}}";</script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <script
      src="https://code.jquery.com/jquery-2.2.4.min.js"
      integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
      crossorigin="anonymous"></script>
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
{% endblock %}

{% block hero %}
  {# hero is not used, so use it for warning banner #}
  <div class="latest-warning">{{config.extra.latest_version_warning.text}}</div>
{% endblock %}

{% block analytics %}
  {% include "partials/integrations/analytics.html" %}
{% endblock %}

{% block config %}
  {% if config.plugins.search %}
    <script>
      // Make the serach query replace _-. by spaces to extend the search to all RPC methods
      // see https://github.com/hyperledger/besu-docs/issues/448
      var search = {
        transform: function(query) {
          var transformedQuery = query
            .replace(/[\_\-\.]/g, " ")
            .trim()
          console.log(transformedQuery)
          return transformedQuery
        }
      }
    </script>
  {% endif %}
{% endblock %}
